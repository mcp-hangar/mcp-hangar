# MCP Registry Configuration
# Copy to config.yaml and customize

providers:
  # ============================================
  # SUBPROCESS MODE - Local processes
  # ============================================
  math:
    mode: subprocess
    command:
      - python
      - -m
      - examples.provider_math.server
    idle_ttl_s: 180
    health_check_interval_s: 60
    max_consecutive_failures: 3

  # ============================================
  # PROVIDER GROUP MODE - Load balanced cluster
  # ============================================
  # math-cluster:
  #   mode: group
  #   description: "Math provider cluster with load balancing"
  #   strategy: round_robin  # round_robin, weighted_round_robin, least_connections, random, priority
  #   min_healthy: 1
  #   auto_start: true
  #   health:
  #     unhealthy_threshold: 2
  #     healthy_threshold: 1
  #   circuit_breaker:
  #     failure_threshold: 10
  #     reset_timeout_s: 60.0
  #   members:
  #     - id: math-node-1
  #       weight: 1
  #       priority: 1
  #       mode: subprocess
  #       command: [python, -m, examples.provider_math.server]
  #     - id: math-node-2
  #       weight: 1
  #       priority: 2
  #       mode: subprocess
  #       command: [python, -m, examples.provider_math.server]

  # ============================================
  # CONTAINER MODE - Pre-built images
  # ============================================
  # filesystem:
  #   mode: container
  #   image: ghcr.io/modelcontextprotocol/server-filesystem:latest
  #   volumes:
  #     - "${HOME}:/data:ro"
  #   resources:
  #     memory: 256m
  #     cpu: "0.5"

  # ============================================
  # CONTAINER MODE - Custom build
  # ============================================
  # custom:
  #   mode: container
  #   build:
  #     dockerfile: docker/Dockerfile.custom
  #     context: .
  #   env:
  #     MY_VAR: "value"
  #   resources:
  #     memory: 256m
  #     cpu: "0.5"
  #   network: none
